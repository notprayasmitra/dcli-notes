### Initialize Configuration

Post installation, the dcli directory can be initialized by using the `dcli init` command.
Upon executing the command, the user will receive a prompt to name the primary device that the dcli is installed in.

![[dcli-init-output.png]]

#### Structure of initialized configuration

```
arch-config/
├── config.yaml           # Pointer to active host config
├── hosts/
│   └── {hostname}.yaml   # Full host configuration
├── modules/
│   ├── base.yaml         # Base packages for all machines
│   └── example.yaml      # Example module template
├── scripts/              # Post-install hook scripts
└── state/                # Auto-generated state files (git-ignored)
```

### Repository Configuration

The dcli directory after its creation can also be linked to a repository (GitHub, GitLab, Other) with the help of git, and the configuration can be pushed into the created repository using the following command:

`dcli repo init`

Upon executing the above command, the user will be prompted to initialize a git repository in the dcli root directory. Afterwards, the user will also have to provide the repository's URL *(Note: Both HTTPS and SSH URLs are accepted.)* then their username and email for the concerned github/gitlab account.

Upon successful initialization, there will be a message saying so.

*Note: In this version of dcli, there is no feature of differentiating or warning the user regarding change of name or differentiating names of the github branch. Hence, if the branch names do no match, then the above mentioned procedure will fail.*

### Bootstrap from TheBlackDon's Configuration

Use the bootstrap option below:

```bash
dcli init -b
# or
dcli init --bd
```

This will:

- Clone BlackDon's arch-config from GitLab
- Copy all packages, modules, and scripts
- Create a fresh `config.yaml` with your hostname
- Create a new host-specific configuration file
- **Disconnect from BlackDon's repository** (you start fresh!)

**Important:** After bootstrapping, the configuration is completely yours. You cannot push changes back to BlackDon's repository. To version control your customizations, run `dcli repo init` and create your own repository.

*Note: For the sake of understanding, this wiki will be guiding the process for a clean installation and configuration rather than bootstrapping for now.*